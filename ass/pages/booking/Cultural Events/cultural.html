<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../Cultural Events/cultural.css">
    <title>Cultural Events - Choose Your Package</title>
    
</head>
<body>
    <div class="floating-elements"></div>
    
    <div class="container">
        <div class="header">
            <h1>ðŸŽ­ Cultural Events</h1>
            <p>Celebrate traditions with perfect cultural packages</p>
        </div>

        <div class="cards-container">
            <!-- Basic Package -->
            <div class="card basic" onclick="selectCard(this, 'basic')">
                <div class="card-icon">ðŸª”</div>
                <h3>Heritage Package</h3>
                <div class="price">â‚¹40,999</div>
                <ul class="features">
                    <li>Traditional Decorations</li>
                    <li>Cultural Music Setup</li>
                    <li>Basic Lighting</li>
                    <li>Photography (2 hours)</li>
                    <li>Event Coordination</li>
                </ul>
                <a href="../Cultural Events/HeritagePackage.html" class="btn" onclick="event.stopPropagation(); orderPackage('Heritage', 4999)">Choose Heritage</a>
            </div>

            <!-- Medium Package -->
            <div class="card medium" onclick="selectCard(this, 'medium')">
                <div class="card-icon">ðŸŽª</div>
                <h3>Festival Package</h3>
                <div class="price">â‚¹85,999</div>
                <ul class="features">
                    <li>Premium Decorations</li>
                    <li>Live Cultural Performance</li>
                    <li>Traditional Catering</li>
                    <li>Professional Photography</li>
                    <li>Stage & Sound System</li>
                    <li>Cultural Host/MC</li>
                </ul>
                <a href="../Cultural Events/FestivalPackage.html" class="btn" onclick="event.stopPropagation(); orderPackage('Festival', 9999)">Choose Festival</a>
            </div>

            <!-- Premium Package -->
            <div class="card premium" onclick="selectCard(this, 'premium')">
                <div class="card-icon">ðŸ‘‘</div>
                <h3>Royal Celebration</h3>
                <div class="price">â‚¹1,25,999</div>
                <ul class="features">
                    <li>Luxury Cultural Setup</li>
                    <li>Multiple Art Performances</li>
                    <li>Traditional Feast</li>
                    <li>Professional Videography</li>
                    <li>Cultural Workshop</li>
                    <li>VIP Artist Booking</li>
                    <li>Complete Event Management</li>
                </ul>
                <a href="../Cultural Events/RoyalCelebration.html" class="btn" onclick="event.stopPropagation(); orderPackage('Royal Celebration', 49999)">Choose Royal</a>
            </div>

            <!-- Custom Package -->
            <div class="card custom" onclick="selectCard(this, 'custom')">
                <div class="card-icon">ðŸŽ¨</div>
                <h3>Custom Cultural</h3>
                <div class="price">â‚¹â‚¹â‚¹</div>
                <ul class="features">
                    <li>Personalized Theme</li>
                    <li>Your Cultural Vision</li>
                    <li>Expert Consultation</li>
                    <li>Flexible Arrangements</li>
                    <li>All Cultural Elements</li>
                    <li>Priority Support</li>
                </ul>
                <a href="../Cultural Events/CustomCultural.html" class="btn" onclick="event.stopPropagation(); openCustomModal()">Customize Now</a>
            </div>
        </div>
    </div>

    <!-- Modal for custom package -->
    <div id="customModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeCustomModal()">&times;</span>
            <h2 style="color: #2c1810; margin-bottom: 25px; position: relative; z-index: 10;">Custom Cultural Event Consultation</h2>
            <p style="color: #8b4513; margin-bottom: 25px; position: relative; z-index: 10;">
                Let's create a unique cultural celebration that honors your traditions! Our cultural experts will contact you within 24 hours to discuss your vision.
            </p>
            <button class="btn" onclick="requestConsultation()" style="background: linear-gradient(135deg, #ff4500, #ff6b35); position: relative; z-index: 10;">
                Request Cultural Consultation
            </button>
        </div>
    </div>

    <script>
        let selectedPackage = null;

        // Create floating cultural elements
        function createFloatingElements() {
            const elementsContainer = document.querySelector('.floating-elements');
            const culturalElements = ['ðŸŽ­', 'ðŸª”', 'ðŸŽª', 'ðŸ¥', 'ðŸŽº', 'ðŸ’ƒ', 'ðŸ•º', 'ðŸŽ¨', 'ðŸ®', 'ðŸŽŽ'];
            
            setInterval(() => {
                const element = document.createElement('div');
                element.className = 'cultural-element';
                element.textContent = culturalElements[Math.floor(Math.random() * culturalElements.length)];
                element.style.left = Math.random() * 100 + 'vw';
                element.style.animationDuration = (Math.random() * 5 + 12) + 's';
                elementsContainer.appendChild(element);
                
                setTimeout(() => {
                    element.remove();
                }, 20000);
            }, 1500);
        }

        function selectCard(card, packageType) {
            // Remove previous selection
            document.querySelectorAll('.card').forEach(c => c.classList.remove('selected'));
            
            // Add selection to clicked card
            card.classList.add('selected');
            selectedPackage = packageType;
            
            // Create celebration effect
            createCelebrationParticles();
        }

        function createCelebrationParticles() {
            const colors = ['#ff6b35', '#f7931e', '#cd853f', '#ff4500'];
            
            for (let i = 0; i < 30; i++) {
                setTimeout(() => {
                    const particle = document.createElement('div');
                    particle.className = 'celebration-particle';
                    particle.style.left = Math.random() * 100 + 'vw';
                    particle.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                    particle.style.animationDelay = Math.random() * 2 + 's';
                    document.body.appendChild(particle);
                    
                    setTimeout(() => {
                        particle.remove();
                    }, 5000);
                }, i * 80);
            }
        }

        function orderPackage(packageName, price) {
            createCelebrationParticles();
            setTimeout(() => {
                alert(`ðŸŽ­ You selected the ${packageName} for â‚¹${price.toLocaleString('en-IN')}! Get ready for an amazing cultural celebration. Redirecting to booking...`);
            }, 800);
        }

        function openCustomModal() {
            document.getElementById('customModal').style.display = 'flex';
            createCelebrationParticles();
        }

        function closeCustomModal() {
            document.getElementById('customModal').style.display = 'none';
        }

        function requestConsultation() {
            createCelebrationParticles();
            setTimeout(() => {
                alert('ðŸŽª Thank you for your interest! Our cultural event specialists will contact you within 24 hours to discuss your custom cultural celebration.');
                closeCustomModal();
            }, 1200);
        }

        // Close modal when clicking outside of it
        window.onclick = function(event) {
            const modal = document.getElementById('customModal');
            if (event.target == modal) {
                closeCustomModal();
            }
        }

        // Add keyboard navigation
        document.addEventListener('keydown', function(event) {
            if (event.key === 'Escape') {
                closeCustomModal();
            }
        });

        // Initialize animations and effects
        window.addEventListener('load', () => {
            createFloatingElements();
            
            // Add entrance animation to cards
            const cards = document.querySelectorAll('.card');
            cards.forEach((card, index) => {
                card.style.animationDelay = (index * 0.2 + 0.2) + 's';
            });
        });

        // Add smooth scrolling for better UX
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Add touch support for mobile devices
        let touchStartY = 0;
        let touchEndY = 0;

        document.addEventListener('touchstart', function(event) {
            touchStartY = event.changedTouches[0].screenY;
        });

        document.addEventListener('touchend', function(event) {
            touchEndY = event.changedTouches[0].screenY;
            handleSwipe();
        });

        function handleSwipe() {
            const swipeThreshold = 50;
            const diff = touchStartY - touchEndY;
            
            if (Math.abs(diff) > swipeThreshold) {
                if (diff > 0) {
                    // Swiped up - could add functionality here
                } else {
                    // Swiped down - could add functionality here
                }
            }
        }

        // Add particle trail for mouse movement on desktop
        if (window.innerWidth > 768) {
            document.addEventListener('mousemove', function(e) {
                if (Math.random() > 0.95) { // Only create particles occasionally
                    const particle = document.createElement('div');
                    particle.style.position = 'fixed';
                    particle.style.left = e.clientX + 'px';
                    particle.style.top = e.clientY + 'px';
                    particle.style.width = '4px';
                    particle.style.height = '4px';
                    particle.style.backgroundColor = '#ff6b35';
                    particle.style.borderRadius = '50%';
                    particle.style.pointerEvents = 'none';
                    particle.style.zIndex = '999';
                    particle.style.opacity = '0.7';
                    particle.style.transition = 'all 1s ease-out';
                    
                    document.body.appendChild(particle);
                    
                    setTimeout(() => {
                        particle.style.transform = 'translateY(-20px) scale(0)';
                        particle.style.opacity = '0';
                    }, 100);
                    
                    setTimeout(() => {
                        particle.remove();
                    }, 1100);
                }
            });
        }

        // Add intersection observer for animations
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver(function(entries) {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.animationPlayState = 'running';
                }
            });
        }, observerOptions);

        // Observe all cards for animation triggers
        document.querySelectorAll('.card').forEach(card => {
            observer.observe(card);
        });

        // Add performance optimization for animations
        let animationFrameId;
        let isAnimating = false;

        function optimizeAnimations() {
            if (!isAnimating) {
                isAnimating = true;
                animationFrameId = requestAnimationFrame(() => {
                    // Animation optimization logic here
                    isAnimating = false;
                });
            }
        }

        // Cleanup function for better performance
        window.addEventListener('beforeunload', function() {
            if (animationFrameId) {
                cancelAnimationFrame(animationFrameId);
            }
            
            // Clear any remaining particles
            document.querySelectorAll('.celebration-particle, .cultural-element').forEach(el => {
                el.remove();
            });
        });

        // Add error handling for animations
        window.addEventListener('error', function(e) {
            console.warn('Animation error caught:', e.message);
            // Graceful degradation - disable complex animations if errors occur
            document.body.style.animation = 'none';
        });

        // Add accessibility improvements
        document.addEventListener('keydown', function(event) {
            // Allow navigation with arrow keys
            const cards = Array.from(document.querySelectorAll('.card'));
            const currentIndex = cards.findIndex(card => card === document.activeElement);
            
            if (event.key === 'ArrowRight' && currentIndex < cards.length - 1) {
                cards[currentIndex + 1].focus();
                event.preventDefault();
            } else if (event.key === 'ArrowLeft' && currentIndex > 0) {
                cards[currentIndex - 1].focus();
                event.preventDefault();
            } else if (event.key === 'Enter' || event.key === ' ') {
                if (document.activeElement.classList.contains('card')) {
                    document.activeElement.click();
                    event.preventDefault();
                }
            }
        });

        // Make cards focusable for keyboard navigation
        document.querySelectorAll('.card').forEach((card, index) => {
            card.setAttribute('tabindex', index === 0 ? '0' : '-1');
            card.setAttribute('role', 'button');
            card.setAttribute('aria-label', `Cultural event package: ${card.querySelector('h3').textContent}`);
        });

        // Add loading state management
        window.addEventListener('load', function() {
            document.body.classList.add('loaded');
            
            // Start background animations after page load
            setTimeout(() => {
                createFloatingElements();
            }, 500);
        });

        // Preload images and optimize performance
        function preloadImages() {
            const imageUrls = []; // Add any image URLs here if needed
            imageUrls.forEach(url => {
                const img = new Image();
                img.src = url;
            });
        }

    </script>

</body>
</html>